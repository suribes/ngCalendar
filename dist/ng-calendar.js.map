{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap d770ed0fda558b270493","webpack:///./src/index.js","webpack:///external {\"root\":\"angular\",\"commonjs2\":\"angular\",\"commonjs\":\"angular\",\"amd\":\"angular\"}","webpack:///./src/calendar.js","webpack:///./src/util.js"],"names":[],"mappings":"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","file":"ng-calendar.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"angular\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"angular\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngCalendar\"] = factory(require(\"angular\"));\n\telse\n\t\troot[\"ngCalendar\"] = factory(root[\"angular\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap d770ed0fda558b270493\n **/","import angular from 'angular';\nimport {calendar} from './calendar';\n\nconst calModule = angular.module('ngCalendar', [])\n  .factory('Calendar', calendar);\n\nconst moduleName = calModule.name;\n\nexport default moduleName;\n\n\n/** WEBPACK FOOTER **\n ** ./src/index.js\n **/","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** external {\"root\":\"angular\",\"commonjs2\":\"angular\",\"commonjs\":\"angular\",\"amd\":\"angular\"}\n ** module id = 1\n ** module chunks = 0\n **/","import {formatTime, calculateEndTime, makeIcs, MS_IN_MINUTES} from './util';\n\nexport const calendar = () => {\n   /**\n   * GCal is a webclient, so we can open a new cal by issuing a\n   * GET request with a formatted URL. This function builds that URL using\n   * a calendar event object that just has metadata about what the calendar should\n   * set as far as start time, duration, title, etc.\n   * @param  {Object} event the calendar event\n   * @return {String}       the fully formatted and encoded URL ready for GET request\n   */\n  const makeGoogleCalendarUrl = (event) => {\n    const startTime = formatTime(event.start);\n    const endTime = calculateEndTime(event);\n\n    const href = encodeURI(\n      `https://www.google.com/calendar/render?action=TEMPLATE&text=${event.title || ''}&dates=${startTime || ''}/${endTime || ''}&details=${event.description || ''}&location=${event.address || ''}&sprop=&sprop=name:`\n    );\n\n    return href;\n  };\n\n  /**\n   * Yahoo is a webclient, so we can open a new cal but issuing a\n   * GET request with a formatted URL. This function builds that URL using\n   * a calender event object.\n   * @param  {Object} event calendar event object\n   * @return {String}       the fully formatted and encoded URL ready for GET request\n   */\n  const makeYahooCalendarUrl = (event) => {\n    const eventDuration = event.end ?\n        ((event.end.getTime() - event.start.getTime())/ MS_IN_MINUTES) :\n        event.duration;\n\n    const yahooHourDuration = eventDuration < 600 ?\n        '0' + Math.floor((eventDuration / 60)) :\n        Math.floor((eventDuration / 60)) + '';\n\n    const yahooMinuteDuration = eventDuration % 60 < 10 ?\n        '0' + eventDuration % 60 :\n        eventDuration % 60 + '';\n\n    const yahooEventDuration = yahooHourDuration + yahooMinuteDuration;\n\n    const st = formatTime(\n        new Date(event.start - (event.start.getTimezoneOffset() *\n        MS_IN_MINUTES))) || '';\n\n    const href = encodeURI(\n      `http://calendar.yahoo.com/?v=60&view=d&type=20&title=${event.title || ''}&st=${st}&dur=${yahooEventDuration || ''}&desc=${event.description || ''}&in_loc=${event.address || ''}`\n    );\n\n    return href;\n  };\n\n  /**\n   * create .ics file for mac calendar\n   * @param  {[type]} events [description]\n   * @return {[type]}        [description]\n   */\n  const ical = (events) => {\n    return makeIcs(events);\n  };\n\n  /**\n   * create .ics file for outlook calendar\n   * @param  {[type]} events [description]\n   * @return {[type]}        [description]\n   */\n  const outlook = (events) => {\n    return makeIcs(events);\n  };\n\n  // Alias for views\n  const google = (event) => {\n    return makeGoogleCalendarUrl.call(this, event);\n  };\n\n  const yahoo = (event) => {\n    return makeYahooCalendarUrl.call(this, event);\n  };\n\n  return {\n    google,\n    yahoo,\n    ical,\n    outlook\n  };\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/calendar.js\n **/","export const MS_IN_MINUTES = 60 * 1000;\n\n/**\n * format date times for the urls for cals\n * @param  {Date} date   the Date object to be formatted\n * @return {String}      formatted date time\n * @example:\n *     var date = new Date();\n *     var formattedString = formatTime(date);\n *     formattedString === '20150528T072000Z'\n */\nexport const formatTime = (date) => {\n  return date.toISOString().replace(/-|:|\\.\\d+/g, '');\n};\n\n\n /**\n * calculate an end time for the events \n * @param  {Object} event a calendar event\n * @return {String}       formatted date time\n */\nexport const calculateEndTime = ({end, start, duration=0}) => {\n  return end ?\n    formatTime(end) :\n    formatTime(new Date(start.getTime() + (duration * MS_IN_MINUTES)));\n};\n\n/**\n * Given one calendar event, will create am EVENT string ready\n * to be mashed with a full .ics download string. Helpfull when adding\n * multiple events to one .ics file\n * @param  {Object} event calendar event object\n * @return {String}       one EVENT string produced to be combined with\n *                            header and footer string text so for .ics download\n */\nexport const createIcsStringFromEvent = (event) => {\n  const startTime = formatTime(event.start);\n  const endTime = calculateEndTime(event);\n  const href = `BEGIN:VEVENT\\nURL:${document.URL}\\nDTSTART:${startTime || ''}\\nDTEND:${endTime || ''}\\nSUMMARY:${event.title || ''}\\nDESCRIPTION:${event.description || ''}\\nLOCATION:${event.address || ''}\\nEND:VEVENT`;\n  return href;\n};\n\n\n/**\n * creates a full .ics download url given an array of calender events\n * @param  {Array|Object} events array of or single calender object\n * @return {String}        full data: url for downloading .ics file\n */\nexport const makeIcs = (events) => {\n  if (!Array.isArray(events)) {\n      events = [events];\n  }\n\n  const dataRef = 'data:text/calendar;charset=utf8,';\n  let href = [\n    'BEGIN:VCALENDAR',\n    'VERSION:2.0'\n  ];\n\n  const builtHref = events.reduce((_href, event) => {\n      _href.push(createIcsStringFromEvent(event));\n      return _href;\n  }, href);\n\n  builtHref.push('END:VCALENDAR');\n\n  return encodeURI(dataRef + builtHref.join('\\n'));;\n};\n\n\n/** WEBPACK FOOTER **\n ** ./src/util.js\n **/"],"sourceRoot":""}